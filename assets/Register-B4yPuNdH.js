import{j as e}from"./index-DRpWE4YB.js";import{u as y,b as l,L as p}from"./react-vendor-D1mFpBgG.js";import{N as C}from"./LayoutIntro-iLJF4oai.js";import{F as g,a as x,b as F,G as P}from"./icons-CAs8fykI.js";const D=()=>{const j=y(),[s,f]=l.useState({username:"",email:"",password:"",confirmPassword:""}),[u,r]=l.useState(""),[o,b]=l.useState(!1),[c,w]=l.useState(!1),[i,N]=l.useState(0),v=t=>{let n=0;return t.length>=6&&n++,t.length>=8&&n++,/[a-z]/.test(t)&&/[A-Z]/.test(t)&&n++,/\d/.test(t)&&n++,/[!@#$%^&*(),.?":{}|<>]/.test(t)&&n++,n},m=t=>{switch(t){case 0:case 1:return{text:"Rất yếu",color:"#ef4444"};case 2:return{text:"Yếu",color:"#f97316"};case 3:return{text:"Trung bình",color:"#eab308"};case 4:return{text:"Mạnh",color:"#22c55e"};case 5:return{text:"Rất mạnh",color:"#16a34a"};default:return{text:"",color:"#e5e7eb"}}},h=t=>{const{name:n,value:a}=t.target;f({...s,[n]:a}),n==="password"&&N(v(a)),r("")},k=t=>{if(t.preventDefault(),!s.username.trim()){r("Vui lòng nhập tên đăng nhập!");return}if(s.username.trim().length<3){r("Tên đăng nhập phải có ít nhất 3 ký tự!");return}if(!/^[a-zA-Z0-9_]+$/.test(s.username.trim())){r("Tên đăng nhập chỉ được chứa chữ cái, số và dấu gạch dưới!");return}if(!s.email.trim()){r("Vui lòng nhập email!");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email.trim())){r("Email không hợp lệ!");return}if(!s.password){r("Vui lòng nhập mật khẩu!");return}if(s.password.length<6){r("Mật khẩu phải có ít nhất 6 ký tự!");return}if(!s.confirmPassword){r("Vui lòng nhập lại mật khẩu!");return}if(s.password!==s.confirmPassword){r("Mật khẩu nhập lại không khớp!");return}const a=JSON.parse(localStorage.getItem("fluxmall_users")||"[]");if(a.find(d=>d.username===s.username||d.email===s.email)){r("Tên đăng nhập hoặc email đã tồn tại!");return}const S={username:s.username,email:s.email,password:s.password,createdAt:new Date().toISOString()};a.push(S),localStorage.setItem("fluxmall_users",JSON.stringify(a)),alert("Đăng ký thành công! Vui lòng đăng nhập."),j("/login")};return e.jsxs(e.Fragment,{children:[e.jsx(C,{}),e.jsxs("div",{className:"register-page",children:[e.jsxs("div",{className:"register-container",children:[e.jsxs("div",{className:"register-header",children:[e.jsx(p,{to:"/",className:"logo-link"}),e.jsx("h2",{children:"Tạo tài khoản mới"}),e.jsx("p",{children:"Vui lòng nhập thông tin của bạn để đăng ký"})]}),e.jsxs("form",{className:"register-form",onSubmit:k,children:[u&&e.jsx("div",{className:"error-message",children:u}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"username",children:"Tên đăng nhập"}),e.jsx("input",{type:"text",id:"username",name:"username",value:s.username,onChange:h,placeholder:"Ít nhất 3 ký tự",required:!0,autoComplete:"username"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:h,placeholder:"email@example.com",required:!0,autoComplete:"email"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Mật khẩu"}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:o?"text":"password",id:"password",name:"password",value:s.password,onChange:h,placeholder:"Ít nhất 6 ký tự",required:!0,autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"toggle-password",onClick:()=>b(!o),"aria-label":o?"Ẩn mật khẩu":"Hiện mật khẩu",children:o?e.jsx(g,{}):e.jsx(x,{})})]}),s.password&&e.jsxs("div",{className:"password-strength",children:[e.jsx("div",{className:"strength-bars",children:[1,2,3,4,5].map(t=>e.jsx("div",{className:`strength-bar ${t<=i?"active":""}`,style:{backgroundColor:t<=i?m(i).color:"#e5e7eb"}},t))}),e.jsx("span",{className:"strength-text",style:{color:m(i).color},children:m(i).text})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Nhập lại mật khẩu"}),e.jsxs("div",{className:"password-input-wrapper",children:[e.jsx("input",{type:c?"text":"password",id:"confirmPassword",name:"confirmPassword",value:s.confirmPassword,onChange:h,placeholder:"Nhập lại mật khẩu",required:!0,autoComplete:"new-password"}),e.jsx("button",{type:"button",className:"toggle-password",onClick:()=>w(!c),"aria-label":c?"Ẩn mật khẩu":"Hiện mật khẩu",children:c?e.jsx(g,{}):e.jsx(x,{})})]})]})]}),e.jsx("div",{className:"terms",children:e.jsxs("p",{children:["Bằng cách tạo tài khoản, bạn đồng ý với"," ",e.jsx("a",{href:"#",children:"Điều khoản Dịch vụ"})," &"," ",e.jsx("a",{href:"#",children:"Chính sách bảo mật"})," của Fluxmall"]})}),e.jsx("button",{type:"submit",className:"btn-submit",children:"Tạo tài khoản"}),e.jsx("div",{className:"oauth-divider",children:e.jsx("span",{children:"hoặc tiếp tục với"})}),e.jsxs("div",{className:"oauth-buttons",children:[e.jsxs("button",{type:"button",className:"btn-oauth",children:[e.jsx("span",{className:"oauth-icon",children:e.jsx(F,{})}),"Google"]}),e.jsxs("button",{type:"button",className:"btn-oauth",children:[e.jsx("span",{className:"oauth-icon",children:e.jsx(P,{})}),"GitHub"]})]}),e.jsx("div",{className:"register-footer",children:e.jsxs("p",{children:["Bạn đã có tài khoản? ",e.jsx(p,{to:"/login",children:"Đăng nhập ngay"})]})})]})]}),e.jsx("div",{className:"register-side",children:e.jsxs("div",{className:"side-content",children:[e.jsx("h2",{children:"Fluxmall dẫn lối phong cách sống của bạn"}),e.jsxs("p",{children:["Tham gia cộng đồng mua sắm thông minh với Fluxmall ",e.jsx("br",{}),"Khám phá sản phẩm tuyệt vời từ các nhà bán hàng ",e.jsx("br",{}),"uy tín trên toàn thế giới"]})]})})]})]})};export{D as default};
