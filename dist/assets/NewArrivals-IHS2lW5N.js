import{j as r}from"./index-Cn-vXufr.js";import{b as a}from"./react-vendor-D1mFpBgG.js";import{d as p}from"./data-CgShG3rO.js";import{P as v}from"./ProductCard-_suYlWEJ.js";import"./san-pham-noi-bat-20-03-2024-Di1ooc_p.js";function b(){const[t,m]=a.useState("newest"),[l,d]=a.useState("all"),[i,h]=a.useState("");a.useEffect(()=>{const e=setInterval(()=>{const s=localStorage.getItem("fluxmall_search")||"";h(s)},300);return()=>clearInterval(e)},[]);const c=a.useMemo(()=>p.products.filter(e=>e.badge?.newArrival===!0),[]),o=a.useMemo(()=>{let e=c;return l!=="all"&&(e=e.filter(s=>s.category.toLowerCase()===l.toLowerCase())),i&&(e=e.filter(s=>s.name.toLowerCase().includes(i.toLowerCase()))),t==="price-low"?e=[...e].sort((s,n)=>Number(s.price)-Number(n.price)):t==="price-high"?e=[...e].sort((s,n)=>Number(n.price)-Number(s.price)):t==="newest"&&(e=[...e].reverse()),e},[t,l,i]),u=["all",...new Set(c.map(e=>e.category.toLowerCase()))];return r.jsxs("div",{className:"newarrivals-page",children:[r.jsx("div",{className:"newarrivals-banner",children:r.jsxs("div",{className:"banner-content",children:[r.jsx("h1",{children:"âœ¨ Sáº£n pháº©m má»›i ra máº¯t"}),r.jsx("p",{children:"KhÃ¡m phÃ¡ nhá»¯ng sáº£n pháº©m má»›i nháº¥t vá»«a Ä‘Æ°á»£c cáº­p nháº­t"})]})}),r.jsxs("aside",{className:"newarrivals-sidebar",children:[r.jsx("div",{className:"filter-section",children:r.jsx("div",{className:"filter-buttons",children:u.map(e=>r.jsx("button",{className:`filter-btn ${l===e?"active":""}`,onClick:()=>d(e),children:e==="all"?"Táº¥t cáº£":e},e))})}),r.jsx("div",{className:"filter-section",children:r.jsx("div",{className:"filter-buttons",children:[{value:"newest",label:"Má»›i nháº¥t"},{value:"price-low",label:"GiÃ¡ tháº¥p â†’ cao"},{value:"price-high",label:"GiÃ¡ cao â†’ tháº¥p"}].map(e=>r.jsx("button",{className:`filter-btn ${t===e.value?"active":""}`,onClick:()=>m(e.value),children:e.label},e.value))})})]}),r.jsx("div",{className:"newarrivals-container",children:r.jsx("main",{className:"newarrivals-main",children:o.length>0?r.jsx("div",{className:"products-grid",children:o.map(e=>r.jsx("div",{className:"product-wrapper",children:r.jsx(v,{item:e})},e.id))}):r.jsx("div",{className:"no-products",children:r.jsx("p",{children:"ðŸ˜” KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m"})})})})]})}export{b as default};
